<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Type2Academy</title>
    <style>
        /* Ensure the body and html elements take up the full height */
        html, body {
            height: 100%;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        /* Full height and width for the form */
        .typeform-widget {
            width: 100%;
            height: 100vh;
            border: none;
        }
    </style>
</head>
<body>

    <!-- Embed Typeform directly instead of a button -->
    <iframe id="typeform-full" class="typeform-widget" src="https://tosm8skx5gu.typeform.com/to/pJ0eN1ww"></iframe>

    <!-- Typeform embed script -->
    <script src="//embed.typeform.com/next/embed.js"></script>

    <script>
      // This function is called after form submission
      function redirectAfterSubmit({ formId, responseId }) {
        console.log(`Form ${formId} submitted, response id: ${responseId}`);
        
        // Redirect to a specific URL after the form is submitted
        window.location.href = 'https://type2academy.com/purchase?product_id=5802004';
      }

      // Embed Typeform directly and add onSubmit listener
      window.onload = function() {
        const iframe = document.getElementById('typeform-full');

        iframe.addEventListener('load', function() {
          // Assuming the Typeform Embed SDK triggers submission within the iframe
          window.typeformEmbed.makeWidget(iframe, iframe.src, {
            onSubmit: redirectAfterSubmit
          });
        });
      };
    </script>

</body>
</html>
